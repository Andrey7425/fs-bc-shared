### **Задача 2 (then): Сбор данных для виджета персонального дашборда с использованием `.then()`**

Контекст:

Представь, что ты создаешь персонализированный дашборд для пользователя, похожий на стартовую страницу Яндекса или iGoogle. Один из виджетов на этом дашборде должен показывать актуальную информацию из разных источников: погоду в городе пользователя, текущий курс доллара к рублю и главную новость дня. Каждый тип данных запрашивается из своего собственного, независимого источника (API). Чтобы виджет загружался быстро, нужно запросить все эти данные одновременно.

**Что нужно сделать:**

1. Создай три асинхронные функции, имитирующие запросы к разным API с помощью `setTimeout` и `Promise` (можно использовать код из предыдущих версий задачи):
    - `fetchWeather()`: Возвращает `Promise`, который через 1.1 секунды разрешается (resolve) объектом `{ temp: 15, condition: 'Облачно' }`.
    - `fetchExchangeRate()`: Возвращает `Promise`, который через 0.7 секунды разрешается (resolve) числом, например, `91.5`.
    - `fetchTopHeadline()`: Возвращает `Promise`, который через 1.4 секунды разрешается (resolve) строкой, например, `"Ученые обнаружили новый способ изучения асинхронности!"`.
2. Напиши функцию `loadDashboardWidget()`. **Важно:** Эта функция *не должна* быть `async`.
3. Внутри `loadDashboardWidget()`:
    - Используй `Promise.all()` для одновременного запуска всех трех функций `fetch*`. `Promise.all()` вернет новый промис.
    - К промису, возвращенному `Promise.all()`, примени метод `.then()`. Передай в `.then()` функцию обратного вызова (callback), которая будет выполнена, когда *все* три запроса успешно завершатся. Эта функция получит массив с результатами.
    - Внутри колбэка `.then()` обработай массив результатов и выведи данные в консоль в структурированном виде, например:
        
        ```
        --- Данные для виджета (через .then) ---
        Погода: 15°C, Облачно
        Курс USD/RUB: 91.5
        Главная новость: Ученые обнаружили новый способ изучения асинхронности!
        ----------------------------------------
        
        ```
        
    - К результату `.then()` (или к результату `Promise.all()`) примени метод `.catch()`. Передай в `.catch()` функцию обратного вызова для обработки возможной ошибки (если какой-либо из промисов внутри `Promise.all` будет отклонен). В этом примере ошибок не ожидается, но обработчик добавить нужно для полноты картины.

Почему задача полезна?

Хотя синтаксис async/await часто делает асинхронный код более читаемым, понимание классических методов .then() и .catch() для работы с промисами является фундаментальным. Ты будешь встречать этот синтаксис в существующем коде, библиотеках или в ситуациях, где async/await по каким-то причинам не используется. Эта задача позволяет попрактиковаться в "классическом" способе обработки результатов группы параллельных асинхронных операций: запуск с помощью Promise.all и последующая обработка общего результата или общей ошибки через методы .then() и .catch(). Это укрепляет понимание самой сути промисов как объектов, представляющих будущий результат операции.

**Подсказки:**

1. Вспомни, что метод `.then(onFulfilled, onRejected)` вызывается на промисе. Первый аргумент (`onFulfilled`) — это функция, которая выполнится при успешном разрешении (resolve) промиса и получит результат. Второй аргумент (`onRejected`) — для обработки отклонения (reject). Часто вместо второго аргумента используют отдельный метод `.catch(onRejected)`.
2. `Promise.all([...])` возвращает промис. Прикрепи к нему `.then()`:
    
    ```
    function loadDashboardWidget() {
      console.log('Загрузка данных для виджета (используя .then)...');
      const promises = [
        fetchWeather(),
        fetchExchangeRate(),
        fetchTopHeadline()
      ];
    
      Promise.all(promises)
        .then(results => {
          // results - это массив [weatherData, exchangeRate, topHeadline]
          // Здесь нужно извлечь данные и вывести их в консоль
          const [weatherData, exchangeRate, topHeadline] = results;
          console.log('\n--- Данные для виджета (через .then) ---');
          console.log(`Погода: ${weatherData.temp}°C, ${weatherData.condition}`);
          // ... и так далее
        })
        // ... добавь .catch()
    }
    
    ```
    
3. Добавь `.catch(error => { ... })` после `.then(...)` (или сразу после `Promise.all(...)`). Внутри колбэка `.catch` выведи сообщение об ошибке, например, `console.error('Ошибка при загрузке виджета:', error);`. Хотя в этой задаче ошибки не ожидаются, это важная часть работы с промисами.